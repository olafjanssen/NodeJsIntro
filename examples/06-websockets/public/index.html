<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Receiving data over a WebSocket</title>

    <script src="/socket.io/socket.io.js"></script>

    <style>
        #progress {
            height: 2em;
            background-color: red;
        }
    </style>
</head>

<body>
<h1>Look at my data stream</h1>

<div id="progress"></div>

<script>
    var progress = document.getElementById('progress');

    var socket = io.connect('http://localhost:8080');

    socket.on('message', function(message) {
        console.log(message);
    });

    socket.on('data', function(message) {
        progress.style.width = message.data + '%';
    });
</script>

</body>
</html>